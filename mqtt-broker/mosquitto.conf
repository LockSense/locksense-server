# Bind to 0.0.0.0 instead of 127.0.0.1 to allow external connections
listener 1883
listener 9001

# Ensure data persists between container restarts
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log

# Authentication
allow_anonymous false
password_file /etc/mosquitto/passwd
